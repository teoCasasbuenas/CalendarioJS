<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prueba de concepto - Calendario</title>
    <link rel="stylesheet" href="calendar.css"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <script src="https://use.fontawesome.com/07440c045d.js" async></script>
</head>
<input type="button" id="add" value="Agregar">
<input type="button" id="remove" value="Remover">
<div id="calendario" class="font0">
</div>
<script src="calendario.js"></script>
<script
        src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
        crossorigin="anonymous"></script>
<script src="moment.min.js"></script>
<script src="calendario.js"></script>
<script>
    var cal = new Calendario("2017-09-12", "2018-06-18",
        {
            draggableClass: 'evento',
            dragData: 'data-id-evento'
            // days: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']
        });
    $('#add').on('click', function () {
        var obj = $("<div data-id-evento='tar' class='evento' id='tar' draggable='true'><p>Lecture Class: Cell structure and fundamentals of bla bla bla</p></div>"),
            obj2 = $("<div data-id-evento='tar2' class='evento' id='tar2' draggable='true'><p>#2 - Lecture Class: Cell structure and fundamentals of bla bla bla</p></div>"),
            obj3 = $("<div data-id-evento='tar3' class='evento' id='tar3' draggable='true'><p>#3 - Lecture Class: Cell structure and fundamentals of bla bla bla</p></div>"),
            obj4 = $("<div data-id-evento='tar4' class='evento' id='tar4' draggable='true'><p>#4 - Lecture Class: Cell structure and fundamentals of bla bla bla</p></div>"),
            obj5 = $("<div data-id-evento='tar5' class='evento' id='tar5' draggable='true'><p>#5 - Lecture Class: Cell structure and fundamentals of bla bla bla</p></div>"),
            obj6 = $("<div data-id-evento='tar6' class='evento' id='tar6' draggable='true'><p>#6 - Lecture Class: Cell structure and fundamentals of bla bla bla</p></div>"),
            obj7 = $("<div data-id-evento='tar7' class='evento' id='tar7' draggable='true'><p>#7 - Lecture Class: Cell structure and fundamentals of bla bla bla</p></div>");
        cal.addObject(obj, "2017-09-13");
        cal.addObject(obj2, "2017-09-13");
        cal.addObject(obj3, "2017-09-13");
        cal.addObject(obj4, "2017-09-13");
        cal.addObject(obj5, "2017-09-13");
        cal.addObject(obj6, "2017-09-13");
        cal.addObject(obj7, "2017-09-13");
        // cal.addObject($("<div data-id-evento='tar2' class='claseDrag' id='tar2' draggable='true'><div><p>Título 2</p><p class='fecha'>2017-09-01</p></div><div data-id-evento='tar3' class='claseDrag' id='tar3' draggable='true'><div><p>Título 3 anidado</p><p class='fecha'>2017-09-01</p></div></div></div>"), "2017-09-01")
    });
    $('#remove').on('click', function () {
        $("#tar2").remove();
    });
    cal.on('drop', function (target, el, fecha) {
        console.log(target, el, fecha);
        el.find('.fecha').html(fecha)
    });
    var control = 8;
    cal.on('dayclick', function (target, fecha){
        var newObj = $("<div data-id-evento='tar" + control + "' class='evento' id='tar" + control + "' draggable='true'><p>" + control + " Este es un nuevo evento creado desde el día</p></div>");
        cal.addObject(newObj, fecha);
        control++;
    });
</script>
</body>
</html>